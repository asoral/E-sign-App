var oe=(e,r,s)=>new Promise((t,o)=>{var i=c=>{try{l(s.next(c))}catch(d){o(d)}},a=c=>{try{l(s.throw(c))}catch(d){o(d)}},l=c=>c.done?t(c.value):Promise.resolve(c.value).then(i,a);l((s=s.apply(e,r)).next())});import{r as u,j as n,c as Re,e as ke}from"./index-vTrzwfGc.js";import{d as R}from"./dayjsConfig-B0pVY0mJ.js";import{i as Ie,a as Me,c as Ee,M as Ve}from"./index-BVMIwh7g.js";import{e as Y,w as Le,j as De,_ as ze,b as ee,g as Be,m as ie,r as Ye,v as se,C as le,u as He,i as Xe,N as We,x as qe,y as Ue,z as Fe,A as Ze}from"./PurePanel-DNyvZeh-.js";import{T as Je}from"./index-D0F_K97b.js";import{S as ce}from"./index-DDN33i54.js";const U=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Qe(e,r){return U.reduce((s,t)=>{const o=e[`${t}1`],i=e[`${t}3`],a=e[`${t}6`],l=e[`${t}7`];return Object.assign(Object.assign({},s),r(t,{lightColor:o,lightBorderColor:i,darkColor:a,textColor:l}))},{})}function ue(e){var r=e.children,s=e.prefixCls,t=e.id,o=e.overlayInnerStyle,i=e.className,a=e.style;return u.createElement("div",{className:Y("".concat(s,"-content"),i),style:a},u.createElement("div",{className:"".concat(s,"-inner"),id:t,role:"tooltip",style:o},typeof r=="function"?r():r))}var L={shiftX:64,adjustY:1},D={adjustX:1,shiftY:!0},j=[0,0],Ge={left:{points:["cr","cl"],overflow:D,offset:[-4,0],targetOffset:j},right:{points:["cl","cr"],overflow:D,offset:[4,0],targetOffset:j},top:{points:["bc","tc"],overflow:L,offset:[0,-4],targetOffset:j},bottom:{points:["tc","bc"],overflow:L,offset:[0,4],targetOffset:j},topLeft:{points:["bl","tl"],overflow:L,offset:[0,-4],targetOffset:j},leftTop:{points:["tr","tl"],overflow:D,offset:[-4,0],targetOffset:j},topRight:{points:["br","tr"],overflow:L,offset:[0,-4],targetOffset:j},rightTop:{points:["tl","tr"],overflow:D,offset:[4,0],targetOffset:j},bottomRight:{points:["tr","br"],overflow:L,offset:[0,4],targetOffset:j},rightBottom:{points:["bl","br"],overflow:D,offset:[4,0],targetOffset:j},bottomLeft:{points:["tl","bl"],overflow:L,offset:[0,4],targetOffset:j},leftBottom:{points:["br","bl"],overflow:D,offset:[-4,0],targetOffset:j}},Ke=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],et=function(r,s){var t=r.overlayClassName,o=r.trigger,i=o===void 0?["hover"]:o,a=r.mouseEnterDelay,l=a===void 0?0:a,c=r.mouseLeaveDelay,d=c===void 0?.1:c,g=r.overlayStyle,f=r.prefixCls,m=f===void 0?"rc-tooltip":f,w=r.children,v=r.onVisibleChange,x=r.afterVisibleChange,C=r.transitionName,$=r.animation,y=r.motion,_=r.placement,p=_===void 0?"right":_,h=r.align,z=h===void 0?{}:h,N=r.destroyTooltipOnHide,O=N===void 0?!1:N,B=r.defaultVisible,P=r.getTooltipContainer,S=r.overlayInnerStyle;r.arrowContent;var T=r.overlay,k=r.id,I=r.showArrow,F=I===void 0?!0:I,Z=Le(r,Ke),M=u.useRef(null);u.useImperativeHandle(s,function(){return M.current});var H=De({},Z);"visible"in r&&(H.popupVisible=r.visible);var J=function(){return u.createElement(ue,{key:"content",prefixCls:m,id:k,overlayInnerStyle:S},T)};return u.createElement(Je,ze({popupClassName:t,prefixCls:m,popup:J,action:i,builtinPlacements:Ge,popupPlacement:p,ref:M,popupAlign:z,getPopupContainer:P,onPopupVisibleChange:v,afterPopupVisibleChange:x,popupTransitionName:C,popupAnimation:$,popupMotion:y,defaultPopupVisible:B,autoDestroy:O,mouseLeaveDelay:d,popupStyle:g,mouseEnterDelay:l,arrow:F},H),w)};const tt=u.forwardRef(et);function rt(e){const{sizePopupArrow:r,borderRadiusXS:s,borderRadiusOuter:t}=e,o=r/2,i=0,a=o,l=t*1/Math.sqrt(2),c=o-t*(1-1/Math.sqrt(2)),d=o-s*(1/Math.sqrt(2)),g=t*(Math.sqrt(2)-1)+s*(1/Math.sqrt(2)),f=2*o-d,m=g,w=2*o-l,v=c,x=2*o-i,C=a,$=o*Math.sqrt(2)+t*(Math.sqrt(2)-2),y=t*(Math.sqrt(2)-1),_=`polygon(${y}px 100%, 50% ${y}px, ${2*o-y}px 100%, ${y}px 100%)`,p=`path('M ${i} ${a} A ${t} ${t} 0 0 0 ${l} ${c} L ${d} ${g} A ${s} ${s} 0 0 1 ${f} ${m} L ${w} ${v} A ${t} ${t} 0 0 0 ${x} ${C} Z')`;return{arrowShadowWidth:$,arrowPath:p,arrowPolygon:_}}const ot=(e,r,s)=>{const{sizePopupArrow:t,arrowPolygon:o,arrowPath:i,arrowShadowWidth:a,borderRadiusXS:l,calc:c}=e;return{pointerEvents:"none",width:t,height:t,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:t,height:c(t).div(2).equal(),background:r,clipPath:{_multi_value_:!0,value:[o,i]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${ee(l)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:s,zIndex:0,background:"transparent"}}},pe=8;function fe(e){const{contentRadius:r,limitVerticalRadius:s}=e,t=r>12?r+2:12;return{arrowOffsetHorizontal:t,arrowOffsetVertical:s?pe:t}}function W(e,r){return e?r:{}}function st(e,r,s){const{componentCls:t,boxShadowPopoverArrow:o,arrowOffsetVertical:i,arrowOffsetHorizontal:a}=e,{arrowDistance:l=0,arrowPlacement:c={left:!0,right:!0,top:!0,bottom:!0}}={};return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({[`${t}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},ot(e,r,o)),{"&:before":{background:r}})]},W(!!c.top,{[[`&-placement-top > ${t}-arrow`,`&-placement-topLeft > ${t}-arrow`,`&-placement-topRight > ${t}-arrow`].join(",")]:{bottom:l,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${t}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${t}-arrow`]:{left:{_skip_check_:!0,value:a}},[`&-placement-topRight > ${t}-arrow`]:{right:{_skip_check_:!0,value:a}}})),W(!!c.bottom,{[[`&-placement-bottom > ${t}-arrow`,`&-placement-bottomLeft > ${t}-arrow`,`&-placement-bottomRight > ${t}-arrow`].join(",")]:{top:l,transform:"translateY(-100%)"},[`&-placement-bottom > ${t}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft > ${t}-arrow`]:{left:{_skip_check_:!0,value:a}},[`&-placement-bottomRight > ${t}-arrow`]:{right:{_skip_check_:!0,value:a}}})),W(!!c.left,{[[`&-placement-left > ${t}-arrow`,`&-placement-leftTop > ${t}-arrow`,`&-placement-leftBottom > ${t}-arrow`].join(",")]:{right:{_skip_check_:!0,value:l},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${t}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${t}-arrow`]:{top:i},[`&-placement-leftBottom > ${t}-arrow`]:{bottom:i}})),W(!!c.right,{[[`&-placement-right > ${t}-arrow`,`&-placement-rightTop > ${t}-arrow`,`&-placement-rightBottom > ${t}-arrow`].join(",")]:{left:{_skip_check_:!0,value:l},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${t}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${t}-arrow`]:{top:i},[`&-placement-rightBottom > ${t}-arrow`]:{bottom:i}}))}}function at(e,r,s,t){if(t===!1)return{adjustX:!1,adjustY:!1};const o=t&&typeof t=="object"?t:{},i={};switch(e){case"top":case"bottom":i.shiftX=r.arrowOffsetHorizontal*2+s,i.shiftY=!0,i.adjustY=!0;break;case"left":case"right":i.shiftY=r.arrowOffsetVertical*2+s,i.shiftX=!0,i.adjustX=!0;break}const a=Object.assign(Object.assign({},i),o);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}const ae={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},nt={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},it=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function lt(e){const{arrowWidth:r,autoAdjustOverflow:s,arrowPointAtCenter:t,offset:o,borderRadius:i,visibleFirst:a}=e,l=r/2,c={};return Object.keys(ae).forEach(d=>{const g=t&&nt[d]||ae[d],f=Object.assign(Object.assign({},g),{offset:[0,0],dynamicInset:!0});switch(c[d]=f,it.has(d)&&(f.autoArrow=!1),d){case"top":case"topLeft":case"topRight":f.offset[1]=-l-o;break;case"bottom":case"bottomLeft":case"bottomRight":f.offset[1]=l+o;break;case"left":case"leftTop":case"leftBottom":f.offset[0]=-l-o;break;case"right":case"rightTop":case"rightBottom":f.offset[0]=l+o;break}const m=fe({contentRadius:i,limitVerticalRadius:!0});if(t)switch(d){case"topLeft":case"bottomLeft":f.offset[0]=-m.arrowOffsetHorizontal-l;break;case"topRight":case"bottomRight":f.offset[0]=m.arrowOffsetHorizontal+l;break;case"leftTop":case"rightTop":f.offset[1]=-m.arrowOffsetHorizontal-l;break;case"leftBottom":case"rightBottom":f.offset[1]=m.arrowOffsetHorizontal+l;break}f.overflow=at(d,m,r,s),a&&(f.htmlRegion="visibleFirst")}),c}const ct=e=>{const{componentCls:r,tooltipMaxWidth:s,tooltipColor:t,tooltipBg:o,tooltipBorderRadius:i,zIndexPopup:a,controlHeight:l,boxShadowSecondary:c,paddingSM:d,paddingXS:g}=e;return[{[r]:Object.assign(Object.assign(Object.assign(Object.assign({},Ye(e)),{position:"absolute",zIndex:a,display:"block",width:"max-content",maxWidth:s,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${r}-inner`]:{minWidth:"1em",minHeight:l,padding:`${ee(e.calc(d).div(2).equal())} ${ee(g)}`,color:t,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:i,boxShadow:c,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${r}-inner`]:{borderRadius:e.min(i,pe)}},[`${r}-content`]:{position:"relative"}}),Qe(e,(f,m)=>{let{darkColor:w}=m;return{[`&${r}-${f}`]:{[`${r}-inner`]:{backgroundColor:w},[`${r}-arrow`]:{"--antd-arrow-background-color":w}}}})),{"&-rtl":{direction:"rtl"}})},st(e,"var(--antd-arrow-background-color)"),{[`${r}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},ut=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},fe({contentRadius:e.borderRadius,limitVerticalRadius:!0})),rt(ie(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),de=function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Be("Tooltip",t=>{const{borderRadius:o,colorTextLightSolid:i,colorBgSpotlight:a}=t,l=ie(t,{tooltipMaxWidth:250,tooltipColor:i,tooltipBorderRadius:o,tooltipBg:a});return[ct(l),Ie(t,"zoom-big-fast")]},ut,{resetStyle:!1,injectStyle:r})(e)},pt=U.map(e=>`${e}-inverse`);function ft(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(se(pt),se(U)).includes(e):U.includes(e)}function me(e,r){const s=ft(r),t=Y({[`${e}-${r}`]:r&&s}),o={},i={};return r&&!s&&(o.background=r,i["--antd-arrow-background-color"]=r),{className:t,overlayStyle:o,arrowStyle:i}}const dt=e=>{const{prefixCls:r,className:s,placement:t="top",title:o,color:i,overlayInnerStyle:a}=e,{getPrefixCls:l}=u.useContext(le),c=l("tooltip",r),[d,g,f]=de(c),m=me(c,i),w=m.arrowStyle,v=Object.assign(Object.assign({},a),m.overlayStyle),x=Y(g,f,c,`${c}-pure`,`${c}-placement-${t}`,s,m.className);return d(u.createElement("div",{className:x,style:w},u.createElement("div",{className:`${c}-arrow`}),u.createElement(ue,Object.assign({},e,{className:g,prefixCls:c,overlayInnerStyle:v}),o)))};var mt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const gt=u.forwardRef((e,r)=>{var s,t;const{prefixCls:o,openClassName:i,getTooltipContainer:a,overlayClassName:l,color:c,overlayInnerStyle:d,children:g,afterOpenChange:f,afterVisibleChange:m,destroyTooltipOnHide:w,arrow:v=!0,title:x,overlay:C,builtinPlacements:$,arrowPointAtCenter:y=!1,autoAdjustOverflow:_=!0}=e,p=!!v,[,h]=He(),{getPopupContainer:z,getPrefixCls:N,direction:O}=u.useContext(le),B=Ze(),P=u.useRef(null),S=()=>{var b;(b=P.current)===null||b===void 0||b.forceAlign()};u.useImperativeHandle(r,()=>{var b;return{forceAlign:S,forcePopupAlign:()=>{B.deprecated(!1,"forcePopupAlign","forceAlign"),S()},nativeElement:(b=P.current)===null||b===void 0?void 0:b.nativeElement}});const[T,k]=Xe(!1,{value:(s=e.open)!==null&&s!==void 0?s:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),I=!x&&!C&&x!==0,F=b=>{var A,V;k(I?!1:b),I||((A=e.onOpenChange)===null||A===void 0||A.call(e,b),(V=e.onVisibleChange)===null||V===void 0||V.call(e,b))},Z=u.useMemo(()=>{var b,A;let V=y;return typeof v=="object"&&(V=(A=(b=v.pointAtCenter)!==null&&b!==void 0?b:v.arrowPointAtCenter)!==null&&A!==void 0?A:y),$||lt({arrowPointAtCenter:V,autoAdjustOverflow:_,arrowWidth:p?h.sizePopupArrow:0,borderRadius:h.borderRadius,offset:h.marginXXS,visibleFirst:!0})},[y,v,$,h]),M=u.useMemo(()=>x===0?x:C||x||"",[C,x]),H=u.createElement(We,null,typeof M=="function"?M():M),{getPopupContainer:J,placement:te="top",mouseEnterDelay:he=.1,mouseLeaveDelay:be=.1,overlayStyle:ve,rootClassName:xe}=e,re=mt(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),E=N("tooltip",o),we=N(),ye=e["data-popover-inject"];let Q=T;!("open"in e)&&!("visible"in e)&&I&&(Q=!1);const G=u.isValidElement(g)&&!Me(g)?g:u.createElement("span",null,g),X=G.props,je=!X.className||typeof X.className=="string"?Y(X.className,i||`${E}-open`):X.className,[Oe,Ce,Se]=de(E,!ye),K=me(E,c),$e=K.arrowStyle,_e=Object.assign(Object.assign({},d),K.overlayStyle),Ne=Y(l,{[`${E}-rtl`]:O==="rtl"},K.className,xe,Ce,Se),[Pe,Te]=qe("Tooltip",re.zIndex),Ae=u.createElement(tt,Object.assign({},re,{zIndex:Pe,showArrow:p,placement:te,mouseEnterDelay:he,mouseLeaveDelay:be,prefixCls:E,overlayClassName:Ne,overlayStyle:Object.assign(Object.assign({},$e),ve),getTooltipContainer:J||a||z,ref:P,builtinPlacements:Z,overlay:H,visible:Q,onVisibleChange:F,afterVisibleChange:f!=null?f:m,overlayInnerStyle:_e,arrowContent:u.createElement("span",{className:`${E}-arrow-content`}),motion:{motionName:Ue(we,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!w}),Q?Ee(G,{className:je}):G);return Oe(u.createElement(Fe.Provider,{value:Te},Ae))}),ge=gt;ge._InternalPanelDoNotUseOrYouWillBeFired=dt;const ne=e=>{switch(e){case"Unread":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Completed":return"bg-green-100 text-green-800";case"unseen":return"bg-red-500";case"open":return"bg-yellow-500";case"close":return"bg-green-500";default:return""}},ht=({modalContent:e,isModalVisible:r,handleModalCancel:s})=>{const t=ne(e==null?void 0:e.status),o=JSON.parse((e==null?void 0:e.assigned_users)||"{}"),i=Object.keys(o).map(a=>{var l,c;return{email:(l=o[a])==null?void 0:l.email,status:(c=o[a])==null?void 0:c.status}});return n.jsx(Ve,{open:r,onCancel:s,footer:null,className:"text-gray-700 max-w-prose",children:n.jsxs("div",{className:"m-3 max-h-[70vh] overflow-y-auto doc-temp-scroll-container",children:[n.jsx("p",{className:"mb-2 text-xl text-gray-400",children:e==null?void 0:e.subject}),n.jsxs("div",{className:"relative flex gap-3",children:[n.jsx("p",{className:`mb-4 ${t} inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium`,children:e==null?void 0:e.status}),n.jsx(ge,{title:n.jsx("div",{className:"bg-[#283C42] rounded-md",children:i.map((a,l)=>n.jsxs("div",{className:"flex bg-[#283C42] items-center space-x-2 text-white pl-2 pr-2 ",children:[n.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${ne(a.status)}`}),n.jsxs("span",{children:[a.email," : ",a.status]})]},l))}),placement:"top",children:n.jsx("svg",{className:"cursor-pointer",viewBox:"0 0 24 24",fill:"currentColor",height:"1.3em",width:"1.3em",children:n.jsx("path",{d:"M20.5 14.5V16H19v-1.5h1.5m-2-5H17V9a3 3 0 013-3 3 3 0 013 3c0 .97-.5 1.88-1.29 2.41l-.3.19c-.57.4-.91 1.01-.91 1.7v.2H19v-.2c0-1.19.6-2.3 1.59-2.95l.29-.19c.39-.26.62-.69.62-1.16A1.5 1.5 0 0020 7.5 1.5 1.5 0 0018.5 9v.5M9 13c2.67 0 8 1.34 8 4v3H1v-3c0-2.66 5.33-4 8-4m0-9a4 4 0 014 4 4 4 0 01-4 4 4 4 0 01-4-4 4 4 0 014-4m0 10.9c-2.97 0-6.1 1.46-6.1 2.1v1.1h12.2V17c0-.64-3.13-2.1-6.1-2.1m0-9A2.1 2.1 0 006.9 8 2.1 2.1 0 009 10.1 2.1 2.1 0 0011.1 8 2.1 2.1 0 009 5.9z"})})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"mb-2 text-lg text-gray-600 px-4 font-bold tracking-tight",children:"Description"}),n.jsx("p",{className:"text-justify text-gray-500 leading-relaxed mt-2 mb-4 px-4",dangerouslySetInnerHTML:{__html:e==null?void 0:e.description}})]}),n.jsxs("p",{className:"mt-4 px-4",children:[n.jsx("strong",{children:"Timestamp:"})," ",R(e==null?void 0:e.timestamp).format("DD/MM/YYYY")," (",R(e==null?void 0:e.timestamp).fromNow(),")"]})]})})},{Option:q}=ce,Ct=()=>{const e=Re(ke),[r,s]=u.useState([]),[t,o]=u.useState(!0),[i,a]=u.useState(null),[l,c]=u.useState("all"),[d,g]=u.useState("");u.useState(null);const[f,m]=u.useState(!1),[w,v]=u.useState(null);if(u.useEffect(()=>{e&&oe(void 0,null,function*(){try{const h=yield fetch(`/api/method/esign_app.api.sent_doc_by_user?user_mail=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}),z=yield h.json();if(h.status===200){const N=z.message.data.map((O,B)=>{const P=JSON.parse(O.assigned_users),S={unseen:0,open:0,close:0};Object.values(P).forEach(k=>{k.status in S&&S[k.status]++});let T="Completed";return S.unseen>0?T="Unread":S.open>0&&(T="Pending"),{id:B+1,status:T,documentTitle:O.document_title,subject:O.document_subject,description:O.description,timestamp:R(O.document_created_at).toISOString(),assigned_users:O.assigned_users,name:O.name}});s(N)}else a("Failed to fetch documents")}catch(h){a("An error occurred while fetching documents")}finally{o(!1)}})},[e]),t)return n.jsx("div",{children:"Loading..."});if(i)return n.jsx("div",{children:i});const C=r.filter(p=>{switch(l){case"all":return!0;case"opened":return p.status==="Pending";case"completed":return p.status==="Completed";case"unseen":return p.status==="Unread";default:return!0}}).filter(p=>p.documentTitle.toLowerCase().includes(d.toLowerCase())).sort((p,h)=>R(h.timestamp).unix()-R(p.timestamp).unix()),$=p=>{switch(p){case"Unread":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Completed":return"bg-green-100 text-green-800";default:return""}},y=p=>{v(p),m(!0)},_=()=>{m(!1),v(null)};return n.jsxs("div",{className:"container mx-auto p-1 pt-3 w-[73vw]",children:[n.jsxs("div",{className:"mb-4 flex gap-2 items-center max-w-10",children:[n.jsx("input",{type:"text",placeholder:"Search by document title...",value:d,onChange:p=>g(p.target.value),className:"border p-2 rounded-md flex-1"}),n.jsxs(ce,{value:l,onChange:c,className:"min-w-40 ",children:[n.jsx(q,{value:"all",children:"All"}),n.jsx(q,{value:"opened",children:"Opened"}),n.jsx(q,{value:"completed",children:"Completed"}),n.jsx(q,{value:"unseen",children:"Unseen"})]})]}),n.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-y-auto max-h-[85vh] doc-temp-scroll-container",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-[#283C42] text-white",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"S.No"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Document Title"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Subject"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Timestamp"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map((p,h)=>n.jsxs("tr",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>y(p),children:[n.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:h+1}),n.jsx("td",{className:"px-6 py-4 text-sm",children:n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${$(p.status)}`,children:p.status})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 truncate",children:p.documentTitle}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 truncate",children:p.subject}),n.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500",children:[R(p.timestamp).format("DD/MM/YYYY")," (",R(p.timestamp).fromNow(),")"]})]},p.id))})]})}),n.jsx(ht,{modalContent:w,isModalVisible:f,handleModalCancel:_})]})};export{Ct as default};
