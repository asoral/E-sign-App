var oe=(e,o,s)=>new Promise((t,r)=>{var i=c=>{try{n(s.next(c))}catch(f){r(f)}},a=c=>{try{n(s.throw(c))}catch(f){r(f)}},n=c=>c.done?t(c.value):Promise.resolve(c.value).then(i,a);n((s=s.apply(e,o)).next())});import{r as u,j as l,e as Te,f as Re,R as Ae}from"./index-Bs8bVgtG.js";import{d as A}from"./dayjsConfig-C_ACzzqD.js";import{c as Y,d as ke,f as Ie,e as Me,H as K,B as Ee,C as ne,a5 as Ve,F as Le,n as re,D as ie,A as De,q as Be,a6 as ze,a7 as Ye,W as He,X as Xe,a3 as We,a8 as qe,a9 as Fe,a4 as Ue}from"./index-BbY9fkgA.js";import{T as Ze}from"./index-BlA-VN7q.js";const q=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Je(e,o){return q.reduce((s,t)=>{const r=e[`${t}1`],i=e[`${t}3`],a=e[`${t}6`],n=e[`${t}7`];return Object.assign(Object.assign({},s),o(t,{lightColor:r,lightBorderColor:i,darkColor:a,textColor:n}))},{})}function le(e){var o=e.children,s=e.prefixCls,t=e.id,r=e.overlayInnerStyle,i=e.className,a=e.style;return u.createElement("div",{className:Y("".concat(s,"-content"),i),style:a},u.createElement("div",{className:"".concat(s,"-inner"),id:t,role:"tooltip",style:r},typeof o=="function"?o():o))}var D={shiftX:64,adjustY:1},B={adjustX:1,shiftY:!0},j=[0,0],Ge={left:{points:["cr","cl"],overflow:B,offset:[-4,0],targetOffset:j},right:{points:["cl","cr"],overflow:B,offset:[4,0],targetOffset:j},top:{points:["bc","tc"],overflow:D,offset:[0,-4],targetOffset:j},bottom:{points:["tc","bc"],overflow:D,offset:[0,4],targetOffset:j},topLeft:{points:["bl","tl"],overflow:D,offset:[0,-4],targetOffset:j},leftTop:{points:["tr","tl"],overflow:B,offset:[-4,0],targetOffset:j},topRight:{points:["br","tr"],overflow:D,offset:[0,-4],targetOffset:j},rightTop:{points:["tl","tr"],overflow:B,offset:[4,0],targetOffset:j},bottomRight:{points:["tr","br"],overflow:D,offset:[0,4],targetOffset:j},rightBottom:{points:["bl","br"],overflow:B,offset:[4,0],targetOffset:j},bottomLeft:{points:["tl","bl"],overflow:D,offset:[0,4],targetOffset:j},leftBottom:{points:["br","bl"],overflow:B,offset:[-4,0],targetOffset:j}},Qe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Ke=function(o,s){var t=o.overlayClassName,r=o.trigger,i=r===void 0?["hover"]:r,a=o.mouseEnterDelay,n=a===void 0?0:a,c=o.mouseLeaveDelay,f=c===void 0?.1:c,g=o.overlayStyle,d=o.prefixCls,m=d===void 0?"rc-tooltip":d,v=o.children,x=o.onVisibleChange,w=o.afterVisibleChange,O=o.transitionName,S=o.animation,y=o.motion,N=o.placement,p=N===void 0?"right":N,h=o.align,k=h===void 0?{}:h,_=o.destroyTooltipOnHide,C=_===void 0?!1:_,z=o.defaultVisible,P=o.getTooltipContainer,$=o.overlayInnerStyle;o.arrowContent;var T=o.overlay,I=o.id,M=o.showArrow,F=M===void 0?!0:M,U=ke(o,Qe),E=u.useRef(null);u.useImperativeHandle(s,function(){return E.current});var H=Ie({},U);"visible"in o&&(H.popupVisible=o.visible);var Z=function(){return u.createElement(le,{key:"content",prefixCls:m,id:I,overlayInnerStyle:$},T)};return u.createElement(Ze,Me({popupClassName:t,prefixCls:m,popup:Z,action:i,builtinPlacements:Ge,popupPlacement:p,ref:E,popupAlign:k,getPopupContainer:P,onPopupVisibleChange:x,afterPopupVisibleChange:w,popupTransitionName:O,popupAnimation:S,popupMotion:y,defaultPopupVisible:z,autoDestroy:C,mouseLeaveDelay:f,popupStyle:g,mouseEnterDelay:n,arrow:F},H),v)};const et=u.forwardRef(Ke);function tt(e){const{sizePopupArrow:o,borderRadiusXS:s,borderRadiusOuter:t}=e,r=o/2,i=0,a=r,n=t*1/Math.sqrt(2),c=r-t*(1-1/Math.sqrt(2)),f=r-s*(1/Math.sqrt(2)),g=t*(Math.sqrt(2)-1)+s*(1/Math.sqrt(2)),d=2*r-f,m=g,v=2*r-n,x=c,w=2*r-i,O=a,S=r*Math.sqrt(2)+t*(Math.sqrt(2)-2),y=t*(Math.sqrt(2)-1),N=`polygon(${y}px 100%, 50% ${y}px, ${2*r-y}px 100%, ${y}px 100%)`,p=`path('M ${i} ${a} A ${t} ${t} 0 0 0 ${n} ${c} L ${f} ${g} A ${s} ${s} 0 0 1 ${d} ${m} L ${v} ${x} A ${t} ${t} 0 0 0 ${w} ${O} Z')`;return{arrowShadowWidth:S,arrowPath:p,arrowPolygon:N}}const ot=(e,o,s)=>{const{sizePopupArrow:t,arrowPolygon:r,arrowPath:i,arrowShadowWidth:a,borderRadiusXS:n,calc:c}=e;return{pointerEvents:"none",width:t,height:t,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:t,height:c(t).div(2).equal(),background:o,clipPath:{_multi_value_:!0,value:[r,i]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${K(n)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:s,zIndex:0,background:"transparent"}}},ce=8;function ue(e){const{contentRadius:o,limitVerticalRadius:s}=e,t=o>12?o+2:12;return{arrowOffsetHorizontal:t,arrowOffsetVertical:s?ce:t}}function W(e,o){return e?o:{}}function rt(e,o,s){const{componentCls:t,boxShadowPopoverArrow:r,arrowOffsetVertical:i,arrowOffsetHorizontal:a}=e,{arrowDistance:n=0,arrowPlacement:c={left:!0,right:!0,top:!0,bottom:!0}}={};return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({[`${t}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},ot(e,o,r)),{"&:before":{background:o}})]},W(!!c.top,{[[`&-placement-top > ${t}-arrow`,`&-placement-topLeft > ${t}-arrow`,`&-placement-topRight > ${t}-arrow`].join(",")]:{bottom:n,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${t}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${t}-arrow`]:{left:{_skip_check_:!0,value:a}},[`&-placement-topRight > ${t}-arrow`]:{right:{_skip_check_:!0,value:a}}})),W(!!c.bottom,{[[`&-placement-bottom > ${t}-arrow`,`&-placement-bottomLeft > ${t}-arrow`,`&-placement-bottomRight > ${t}-arrow`].join(",")]:{top:n,transform:"translateY(-100%)"},[`&-placement-bottom > ${t}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft > ${t}-arrow`]:{left:{_skip_check_:!0,value:a}},[`&-placement-bottomRight > ${t}-arrow`]:{right:{_skip_check_:!0,value:a}}})),W(!!c.left,{[[`&-placement-left > ${t}-arrow`,`&-placement-leftTop > ${t}-arrow`,`&-placement-leftBottom > ${t}-arrow`].join(",")]:{right:{_skip_check_:!0,value:n},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${t}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${t}-arrow`]:{top:i},[`&-placement-leftBottom > ${t}-arrow`]:{bottom:i}})),W(!!c.right,{[[`&-placement-right > ${t}-arrow`,`&-placement-rightTop > ${t}-arrow`,`&-placement-rightBottom > ${t}-arrow`].join(",")]:{left:{_skip_check_:!0,value:n},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${t}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${t}-arrow`]:{top:i},[`&-placement-rightBottom > ${t}-arrow`]:{bottom:i}}))}}function st(e,o,s,t){if(t===!1)return{adjustX:!1,adjustY:!1};const r=t&&typeof t=="object"?t:{},i={};switch(e){case"top":case"bottom":i.shiftX=o.arrowOffsetHorizontal*2+s,i.shiftY=!0,i.adjustY=!0;break;case"left":case"right":i.shiftY=o.arrowOffsetVertical*2+s,i.shiftX=!0,i.adjustX=!0;break}const a=Object.assign(Object.assign({},i),r);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}const se={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},at={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},nt=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function it(e){const{arrowWidth:o,autoAdjustOverflow:s,arrowPointAtCenter:t,offset:r,borderRadius:i,visibleFirst:a}=e,n=o/2,c={};return Object.keys(se).forEach(f=>{const g=t&&at[f]||se[f],d=Object.assign(Object.assign({},g),{offset:[0,0],dynamicInset:!0});switch(c[f]=d,nt.has(f)&&(d.autoArrow=!1),f){case"top":case"topLeft":case"topRight":d.offset[1]=-n-r;break;case"bottom":case"bottomLeft":case"bottomRight":d.offset[1]=n+r;break;case"left":case"leftTop":case"leftBottom":d.offset[0]=-n-r;break;case"right":case"rightTop":case"rightBottom":d.offset[0]=n+r;break}const m=ue({contentRadius:i,limitVerticalRadius:!0});if(t)switch(f){case"topLeft":case"bottomLeft":d.offset[0]=-m.arrowOffsetHorizontal-n;break;case"topRight":case"bottomRight":d.offset[0]=m.arrowOffsetHorizontal+n;break;case"leftTop":case"rightTop":d.offset[1]=-m.arrowOffsetHorizontal-n;break;case"leftBottom":case"rightBottom":d.offset[1]=m.arrowOffsetHorizontal+n;break}d.overflow=st(f,m,o,s),a&&(d.htmlRegion="visibleFirst")}),c}const lt=e=>{const{componentCls:o,tooltipMaxWidth:s,tooltipColor:t,tooltipBg:r,tooltipBorderRadius:i,zIndexPopup:a,controlHeight:n,boxShadowSecondary:c,paddingSM:f,paddingXS:g}=e;return[{[o]:Object.assign(Object.assign(Object.assign(Object.assign({},Le(e)),{position:"absolute",zIndex:a,display:"block",width:"max-content",maxWidth:s,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":r,[`${o}-inner`]:{minWidth:"1em",minHeight:n,padding:`${K(e.calc(f).div(2).equal())} ${K(g)}`,color:t,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:r,borderRadius:i,boxShadow:c,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${o}-inner`]:{borderRadius:e.min(i,ce)}},[`${o}-content`]:{position:"relative"}}),Je(e,(d,m)=>{let{darkColor:v}=m;return{[`&${o}-${d}`]:{[`${o}-inner`]:{backgroundColor:v},[`${o}-arrow`]:{"--antd-arrow-background-color":v}}}})),{"&-rtl":{direction:"rtl"}})},rt(e,"var(--antd-arrow-background-color)"),{[`${o}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},ct=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},ue({contentRadius:e.borderRadius,limitVerticalRadius:!0})),tt(ne(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),pe=function(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ee("Tooltip",t=>{const{borderRadius:r,colorTextLightSolid:i,colorBgSpotlight:a}=t,n=ne(t,{tooltipMaxWidth:250,tooltipColor:i,tooltipBorderRadius:r,tooltipBg:a});return[lt(n),Ve(t,"zoom-big-fast")]},ct,{resetStyle:!1,injectStyle:o})(e)},ut=q.map(e=>`${e}-inverse`);function pt(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(re(ut),re(q)).includes(e):q.includes(e)}function de(e,o){const s=pt(o),t=Y({[`${e}-${o}`]:o&&s}),r={},i={};return o&&!s&&(r.background=o,i["--antd-arrow-background-color"]=o),{className:t,overlayStyle:r,arrowStyle:i}}const dt=e=>{const{prefixCls:o,className:s,placement:t="top",title:r,color:i,overlayInnerStyle:a}=e,{getPrefixCls:n}=u.useContext(ie),c=n("tooltip",o),[f,g,d]=pe(c),m=de(c,i),v=m.arrowStyle,x=Object.assign(Object.assign({},a),m.overlayStyle),w=Y(g,d,c,`${c}-pure`,`${c}-placement-${t}`,s,m.className);return f(u.createElement("div",{className:w,style:v},u.createElement("div",{className:`${c}-arrow`}),u.createElement(le,Object.assign({},e,{className:g,prefixCls:c,overlayInnerStyle:x}),r)))};var ft=function(e,o){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)o.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(s[t[r]]=e[t[r]]);return s};const mt=u.forwardRef((e,o)=>{var s,t;const{prefixCls:r,openClassName:i,getTooltipContainer:a,overlayClassName:n,color:c,overlayInnerStyle:f,children:g,afterOpenChange:d,afterVisibleChange:m,destroyTooltipOnHide:v,arrow:x=!0,title:w,overlay:O,builtinPlacements:S,arrowPointAtCenter:y=!1,autoAdjustOverflow:N=!0}=e,p=!!x,[,h]=De(),{getPopupContainer:k,getPrefixCls:_,direction:C}=u.useContext(ie),z=Fe(),P=u.useRef(null),$=()=>{var b;(b=P.current)===null||b===void 0||b.forceAlign()};u.useImperativeHandle(o,()=>{var b;return{forceAlign:$,forcePopupAlign:()=>{z.deprecated(!1,"forcePopupAlign","forceAlign"),$()},nativeElement:(b=P.current)===null||b===void 0?void 0:b.nativeElement}});const[T,I]=Be(!1,{value:(s=e.open)!==null&&s!==void 0?s:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),M=!w&&!O&&w!==0,F=b=>{var R,L;I(M?!1:b),M||((R=e.onOpenChange)===null||R===void 0||R.call(e,b),(L=e.onVisibleChange)===null||L===void 0||L.call(e,b))},U=u.useMemo(()=>{var b,R;let L=y;return typeof x=="object"&&(L=(R=(b=x.pointAtCenter)!==null&&b!==void 0?b:x.arrowPointAtCenter)!==null&&R!==void 0?R:y),S||it({arrowPointAtCenter:L,autoAdjustOverflow:N,arrowWidth:p?h.sizePopupArrow:0,borderRadius:h.borderRadius,offset:h.marginXXS,visibleFirst:!0})},[y,x,S,h]),E=u.useMemo(()=>w===0?w:O||w||"",[O,w]),H=u.createElement(ze,null,typeof E=="function"?E():E),{getPopupContainer:Z,placement:ee="top",mouseEnterDelay:me=.1,mouseLeaveDelay:ge=.1,overlayStyle:he,rootClassName:be}=e,te=ft(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),V=_("tooltip",r),xe=_(),we=e["data-popover-inject"];let J=T;!("open"in e)&&!("visible"in e)&&M&&(J=!1);const G=u.isValidElement(g)&&!Ye(g)?g:u.createElement("span",null,g),X=G.props,ve=!X.className||typeof X.className=="string"?Y(X.className,i||`${V}-open`):X.className,[ye,je,Ce]=pe(V,!we),Q=de(V,c),Oe=Q.arrowStyle,$e=Object.assign(Object.assign({},f),Q.overlayStyle),Se=Y(n,{[`${V}-rtl`]:C==="rtl"},Q.className,be,je,Ce),[Ne,_e]=He("Tooltip",te.zIndex),Pe=u.createElement(et,Object.assign({},te,{zIndex:Ne,showArrow:p,placement:ee,mouseEnterDelay:me,mouseLeaveDelay:ge,prefixCls:V,overlayClassName:Se,overlayStyle:Object.assign(Object.assign({},Oe),he),getTooltipContainer:Z||a||k,ref:P,builtinPlacements:U,overlay:H,visible:J,onVisibleChange:F,afterVisibleChange:d!=null?d:m,overlayInnerStyle:$e,arrowContent:u.createElement("span",{className:`${V}-arrow-content`}),motion:{motionName:Xe(xe,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!v}),J?We(G,{className:ve}):G);return ye(u.createElement(qe.Provider,{value:_e},Pe))}),fe=mt;fe._InternalPanelDoNotUseOrYouWillBeFired=dt;const ae=e=>{switch(e){case"Unread":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Completed":return"bg-green-100 text-green-800";case"unseen":return"bg-red-500";case"open":return"bg-yellow-500";case"close":return"bg-green-500";default:return""}},gt=({modalContent:e,isModalVisible:o,handleModalCancel:s})=>{const t=ae(e==null?void 0:e.status),r=JSON.parse((e==null?void 0:e.assigned_users)||"{}"),i=Object.keys(r).map(a=>{var n,c;return{email:(n=r[a])==null?void 0:n.email,status:(c=r[a])==null?void 0:c.status}});return l.jsx(Ue,{open:o,onCancel:s,footer:null,className:"text-gray-700 max-w-prose",children:l.jsxs("div",{className:"m-3 max-h-[70vh] overflow-y-auto doc-temp-scroll-container",children:[l.jsx("p",{className:"mb-2 text-xl text-gray-400",children:e==null?void 0:e.subject}),l.jsxs("div",{className:"relative flex gap-3",children:[l.jsx("p",{className:`mb-4 ${t} inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium`,children:e==null?void 0:e.status}),l.jsx(fe,{title:l.jsx("div",{className:"bg-[#283C42] rounded-md",children:i.map((a,n)=>l.jsxs("div",{className:"flex bg-[#283C42] items-center space-x-2 text-white pl-2 pr-2 ",children:[l.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${ae(a.status)}`}),l.jsxs("span",{children:[a.email," : ",a.status]})]},n))}),placement:"top",children:l.jsx("svg",{className:"cursor-pointer",viewBox:"0 0 24 24",fill:"currentColor",height:"1.3em",width:"1.3em",children:l.jsx("path",{d:"M20.5 14.5V16H19v-1.5h1.5m-2-5H17V9a3 3 0 013-3 3 3 0 013 3c0 .97-.5 1.88-1.29 2.41l-.3.19c-.57.4-.91 1.01-.91 1.7v.2H19v-.2c0-1.19.6-2.3 1.59-2.95l.29-.19c.39-.26.62-.69.62-1.16A1.5 1.5 0 0020 7.5 1.5 1.5 0 0018.5 9v.5M9 13c2.67 0 8 1.34 8 4v3H1v-3c0-2.66 5.33-4 8-4m0-9a4 4 0 014 4 4 4 0 01-4 4 4 4 0 01-4-4 4 4 0 014-4m0 10.9c-2.97 0-6.1 1.46-6.1 2.1v1.1h12.2V17c0-.64-3.13-2.1-6.1-2.1m0-9A2.1 2.1 0 006.9 8 2.1 2.1 0 009 10.1 2.1 2.1 0 0011.1 8 2.1 2.1 0 009 5.9z"})})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"mb-2 text-lg text-gray-600 px-4 font-bold tracking-tight",children:"Description"}),l.jsx("p",{className:"text-justify text-gray-500 leading-relaxed mt-2 mb-4 px-4",children:e==null?void 0:e.description})]}),l.jsxs("p",{className:"mt-4 px-4",children:[l.jsx("strong",{children:"Timestamp:"})," ",A(e==null?void 0:e.timestamp).format("DD/MM/YYYY")," (",A(e==null?void 0:e.timestamp).fromNow(),")"]})]})})},yt=()=>{const e=Te(Re),[o,s]=u.useState([]),[t,r]=u.useState(!0),[i,a]=u.useState(null),[n,c]=u.useState("all"),[f,g]=u.useState(null),[d,m]=u.useState(!1),[v,x]=u.useState(null);if(u.useEffect(()=>{e&&oe(void 0,null,function*(){try{const h=yield fetch(`/api/method/esign_app.api.sent_doc_by_user?user_mail=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}),k=yield h.json();if(console.log(k),h.status===200){const _=k.message.data.map((C,z)=>{console.log(C);const P=JSON.parse(C.assigned_users),$={unseen:0,open:0,close:0};Object.values(P).forEach(I=>{I.status in $&&$[I.status]++});let T="Completed";return $.unseen>0?T="Unread":$.open>0&&(T="Pending"),{id:z+1,status:T,documentTitle:C.document_title,subject:C.document_subject,description:C.description,timestamp:A(C.document_created_at).toISOString(),assigned_users:C.assigned_users}});s(_)}else a("Failed to fetch documents")}catch(h){a("An error occurred while fetching documents")}finally{r(!1)}})},[e]),t)return l.jsx("div",{children:"Loading..."});if(i)return l.jsx("div",{children:i});const O=o.filter(p=>{switch(n){case"all":return!0;case"opened":return p.status==="Pending";case"completed":return p.status==="Completed";case"unseen":return p.status==="Unread";default:return!0}}).sort((p,h)=>A(h.timestamp).unix()-A(p.timestamp).unix()),S=p=>{switch(p){case"Unread":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Completed":return"bg-green-100 text-green-800";default:return""}},y=p=>{x(p),m(!0)},N=()=>{m(!1),x(null)};return l.jsxs("div",{className:"container mx-auto p-1 pt-3 w-[73vw]",children:[l.jsxs("div",{className:"mb-4 flex gap-1",children:[l.jsx("button",{onClick:()=>c("all"),className:`text-sm px-4 py-2 transition-all duration-200 ease-in-out ${n==="all"?"bg-[#283C42] text-white shadow-lg":"bg-white text-gray-700 border border-gray-300"} rounded-l-md hover:bg-[#283C42] hover:text-white hover:shadow-xl hover:translate-y-[-2px]`,children:"All"}),l.jsx("button",{onClick:()=>c("opened"),className:`text-sm px-4 py-2 transition-all duration-200 ease-in-out ${n==="opened"?"bg-[#283C42] text-white shadow-lg":"bg-white text-gray-700 border border-gray-300"} hover:bg-[#283C42] hover:text-white hover:shadow-xl hover:translate-y-[-2px]`,children:"Opened"}),l.jsx("button",{onClick:()=>c("completed"),className:`text-sm px-4 py-2 transition-all duration-200 ease-in-out ${n==="completed"?"bg-[#283C42] text-white shadow-lg":"bg-white text-gray-700 border border-gray-300"} hover:bg-[#283C42] hover:text-white hover:shadow-xl hover:translate-y-[-2px]`,children:"Completed"}),l.jsx("button",{onClick:()=>c("unseen"),className:`text-sm px-4 py-2 transition-all duration-200 ease-in-out ${n==="unseen"?"bg-[#283C42] text-white shadow-lg":"bg-white text-gray-700 border border-gray-300"} rounded-r-md hover:bg-[#283C42] hover:text-white hover:shadow-xl hover:translate-y-[-2px]`,children:"Unseen"})]}),l.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-y-auto max-h-[85vh] doc-temp-scroll-container",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-[#283C42] text-white",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"S.No"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Document Title"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Subject"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Timestamp"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map((p,h)=>l.jsx(Ae.Fragment,{children:l.jsxs("tr",{className:`cursor-pointer ${f===p.id?"bg-gray-100":""}`,onMouseEnter:()=>g(p.id),onMouseLeave:()=>g(null),onClick:()=>y(p),children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h+1}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${S(p.status)}`,children:p.status})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 text-ellipsis overflow-hidden whitespace-nowrap max-w-9",children:p.documentTitle}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate text-ellipsis overflow-hidden whitespace-nowrap ",children:p.subject}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[A(p.timestamp).format("DD/MM/YYYY")," (",A(p.timestamp).fromNow(),")"]})]})},p.id))})]})}),l.jsx(gt,{modalContent:v,isModalVisible:d,handleModalCancel:N})]})};export{yt as default};
